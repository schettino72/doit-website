<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="pydoit Success Stories on scientific pipelines, build system, content generation and DevOps" name="description" />
<meta content="python, doit, case study, build system, content generation, devops, scientific pipelines" name="keywords" />

      <title>pydoit Success Stories: users testimonials</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
      <link rel="canonical" href="https://pydoit.org/stories.html" />
    
      <link rel="shortcut icon" href="_static/favico.ico"/>
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="FAQ" href="faq.html" />
  <link rel="prev" title="Changes" href="changes.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="contents.html" class="home-link">
    
      <img class="logo" src="_static/doit-logo-small.png" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="contents.html#getting-started"
         class="nav-link ">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="contents.html#guide"
         class="nav-link ">
         guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="contents.html#project"
         class="nav-link  router-link-active">
         project
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://twitter.com/pydoit"
        class="nav-link external">
          Twitter <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://github.com/pydoit/doit"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="contents.html#getting-started"
         class="nav-link ">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="contents.html#guide"
         class="nav-link ">
         guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="contents.html#project"
         class="nav-link  router-link-active">
         project
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://twitter.com/pydoit"
        class="nav-link external">
          Twitter <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://github.com/pydoit/doit"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="contents.html#getting-started">getting started</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="usecases.html" class="reference internal ">Use Cases</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="tutorial-1.html" class="reference internal ">tutorial - python imports graph</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="contents.html#guide">guide</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="install.html" class="reference internal ">Installing</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="tasks.html" class="reference internal ">Tasks</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="dependencies.html" class="reference internal ">Non-file dependencies</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="task-creation.html" class="reference internal ">More on Task creation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd-run.html" class="reference internal ">Command line interface - run</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd-other.html" class="reference internal ">sub-commands for task manipulation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="configuration.html" class="reference internal ">Configuration</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="task-args.html" class="reference internal ">Passing arguments from the command line</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="globals.html" class="reference internal ">Globals - accessing doit internals</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="uptodate.html" class="reference internal ">custom up-to-date</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="tools.html" class="reference internal ">Tools & Integrations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="extending.html" class="reference internal ">Extending doit</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="contents.html#project">project</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="support.html" class="reference internal ">Support</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="changes.html" class="reference internal ">Changes</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Success Stories</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#scientific" class="reference internal">Scientific</a></li>
                
                  <li class="toctree-l2"><a href="#build-system" class="reference internal">Build System</a></li>
                
                  <li class="toctree-l2"><a href="#content-generation" class="reference internal">Content Generation</a></li>
                
                  <li class="toctree-l2"><a href="#devops" class="reference internal">DevOps</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="faq.html" class="reference internal ">FAQ</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="related.html" class="reference internal ">Related Projects</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>

  
    <div style="margin-bottom: 0px; padding:1rem; background-color: #2980B9; color:#fcfcfc;">
      <h3>Donate</h3>
      <p>If you find <em>doit</em> useful, please consider supporting the maintainer with a donation.</p>
      <p><em>doit</em> is 100% open-source and maintained by individuals without any company backing it... Your donation keeps the project healthy and maintained.</p>
    </div>

    <div style="text-align:center; padding:1rem; color:black;background-color:#fcfcfc; margin-bottom:2rem;">
      <h4 style="margin-bottom:5px;margin-top:5px;">OpenCollective</h4>
      <div>
        <object type="image/svg+xml" data="https://opencollective.com/doit/tiers/backers.svg?avatarHeight=60&width=200"></object>
      </div>

      <hr style="margin-top:5px;">
      <h4 style="margin-bottom:20px;">Paypal</h4>
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" style="margin:auto;">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="GFU3BPVN586A6">
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
        <img alt="" border="0" src="https://www.paypalobjects.com/pt_BR/i/scr/pixel.gif" width="1" height="1" style="visibility:hidden;">
      </form>
    </div>
    <br>
  

        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="contents.html">Docs</a> &raquo;</li>
    
    <li>pydoit Success Stories: users testimonials</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="changes.html"
       title="previous chapter">← Changes</a>
  </li>
  <li class="next">
    <a href="faq.html"
       title="next chapter">FAQ →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="success-stories">
<h1>Success Stories<a class="headerlink" href="#success-stories" title="Permalink to this headline">¶</a></h1>
<p>Do you have a success story? Please share it!</p>
<p>Send a pull-request on github describing your project, how <cite>doit</cite> is used,
and why <cite>doit</cite> was chosen.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#scientific" id="id4">Scientific</a></p>
<ul>
<li><p><a class="reference internal" href="#biomechanics-lab-stanford-university-usa" id="id5">Biomechanics Lab / Stanford University, USA</a></p></li>
<li><p><a class="reference internal" href="#computational-metagenomics-lab-university-of-trento-italy" id="id6">Computational Metagenomics Lab / University of Trento, Italy</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id7">Cheminformatics data processing &#64; Atomwise</a></p></li>
<li><p><a class="reference internal" href="#data-driven-modelling-of-robots-mcgill-university-canada" id="id8">Data-Driven Modelling of Robots / McGill University, Canada</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#build-system" id="id9">Build System</a></p>
<ul>
<li><p><a class="reference internal" href="#bmw-automotive" id="id10">BMW (Automotive)</a></p></li>
<li><p><a class="reference internal" href="#game-development" id="id11">Game Development</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id12">MetalK8s &#64; Scality</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#content-generation" id="id13">Content Generation</a></p>
<ul>
<li><p><a class="reference internal" href="#nikola" id="id14">Nikola</a></p></li>
<li><p><a class="reference internal" href="#document-production" id="id15">Document Production</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#devops" id="id16">DevOps</a></p>
<ul>
<li><p><a class="reference internal" href="#university-of-oslo-library-norway" id="id17">University of Oslo Library, Norway</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="scientific">
<h2><a class="toc-backref" href="#id4">Scientific</a><a class="headerlink" href="#scientific" title="Permalink to this headline">¶</a></h2>
<section id="biomechanics-lab-stanford-university-usa">
<h3><a class="toc-backref" href="#id5">Biomechanics Lab / Stanford University, USA</a><a class="headerlink" href="#biomechanics-lab-stanford-university-usa" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="http://chrisdembia.github.io">Christopher Dembia</a> (2014-04-03)</p>
<p>I am a graduate student in a biomechanics lab that studies how humans coordinate
their muscles in movements like walking or running.
We record someone’s motion using reflective motion capture markers and by
recording the force their feet exert on the ground.
We put this data into our software, which gives back an estimate of the
force each muscle (92 muscles) was generating throughout the observed motion.
In a typical study, we record about 100 walking motions.
To analyze a single walking motion, we need to run 4 different executables in
sequence.
Each executable requires a handful of input files, and generates a
handful of output files that a subsequent executable uses as input.</p>
<p>So, a study entails about 1000 files, some of which contain raw data, but most
of which are intermediate files (output of one executable and input to another
executable).
Typically, a researcher manages this workflow manually.
However, that is prone to error,
as a researcher may forget to properly modify all
relevant files if an error is noticed in, for example, a raw data file.</p>
<p>With <cite>doit</cite>, I am automating this workflow for my current study.
This allows me to avoid errors and avoid unnecessary duplication of files.
Most importantly, if I learn that I must modify something in a file
that is an input toward the beginning of this workflow,
<cite>doit</cite> will allow me to automatically update all my
results without missing a step.</p>
<p>I tried to do this with <cite>Make</cite> first.
<cite>Make</cite> just was not made to do what I want.
Also, my lab’s software has python bindings, so my entire workflow can be
in python.
Also, the ability to script anything directly into the workflow is
important, and <cite>Make</cite> can’t do that.
<cite>CMake</cite> was another option, but that’s not general enough.
<cite>doit</cite> is just completely generic, and the interface is simple yet very flexible.</p>
</section>
<section id="computational-metagenomics-lab-university-of-trento-italy">
<h3><a class="reference external" href="http://cibiocm.bitbucket.org">Computational Metagenomics Lab</a> / University of Trento, Italy<a class="headerlink" href="#computational-metagenomics-lab-university-of-trento-italy" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="http://cibiocm.bitbucket.org">Nicola Segata</a> (2015-01-20)</p>
<p>My laboratory of Computational Metagenomics at University of Trento studies the
human microbiome, i.e. the huge microbial diversity populating our body.</p>
<p>Our analyses involve processing several thousands of microbial genomes (long
sequences of DNA) with a series of computational steps (mostly written in
python) on subset of those genomes.  Genomes are organized in a hierarchical
structure (the taxonomy) and many steps of our pipelines need to take into
account these dependencies.</p>
<p><cite>doit</cite> is just the right way to do this. We actually even tried to implement
something like this on our own, but we are now switching to <cite>doit</cite> because it
has all the features we need and it is intuitive to use. We particularly love
the possibility of specifying dependencies “on the fly”.</p>
<p>We are now thinking to convert all our pipelines to the <cite>doit</cite> format. Given the
importance of <cite>doit</cite> for our research and its potential for bioinformatic
pipelines we are happy to support this project scientifically (by citing it in
our papers, mentioning it in our funding requests, etc).</p>
<p>Thanks for developing <cite>doit</cite>, it’s just wonderful for computational biology (and
for many other tasks, of course, but this is our research field:)!</p>
</section>
<section id="id1">
<h3><a class="reference external" href="https://www.atomwise.com">Cheminformatics data processing &#64; Atomwise</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://github.com/drkeoni">Jon Sorenson</a> (2018-12-14)</p>
<p>I came to <cite>doit</cite> from the loose requirement that I wanted a task-dependency/DAG type
of workflow solution for the various pipelines that our team is constructing.
I come from computational biology originally, and the similarity of data processing pipelines
to build systems has long been appreciated.  More than a decade ago
many of us were writing bioinformatics
pipelines in <cite>make</cite> because it gave us so many features “for free.”</p>
<p>Starting afresh at <a class="reference external" href="https://www.atomwise.com/">Atomwise</a> I did a survey of what DAG-based workflow
execution frameworks were out there—restricting my search to <cite>python</cite>, active
maintenance, good documentation etc.  Besides <cite>doit</cite> I evaluated <cite>bonobo</cite>, <cite>Luigi</cite>, and <cite>airflow</cite>.
<cite>bonobo</cite> didn’t fit my needs for dependency-based processing.  <cite>Luigi</cite> and <cite>airflow</cite> are
very nice, but I didn’t have any particular need for distributed workflows and the
heavier weight feel of these platforms.  My favorite experience was <cite>airflow</cite> but it
didn’t have (obvious) support for re-entrant processing: running a pipeline
from an intermediate stage.</p>
<p>I knew that build-system based frameworks would do exactly what I wanted and not
hand me too much cruft, and on that note I found <cite>doit</cite>.  It’s worked perfectly
for my needs:</p>
<ul class="simple">
<li><p>The order of tasks is derived from dependencies</p></li>
<li><p>Tasks can be executed in parallel if they don’t depend on each other</p></li>
<li><p>Plenty of bells and whistles to relieve the pipeline developer from writing
boilerplate code (easy task documentation, discovery of the pipeline state,
easy process for re-doing tasks)</p></li>
<li><p>Very light-weight. In this sense <cite>doit</cite> is the perfect example of a UNIX-style
tool: <em>do one thing and do it well</em>.  <cite>Luigi</cite> and <cite>airflow</cite> are
attractive, but they also suffer from kitchen-sink bloat.  If you simply
want a pythonic alternative to <cite>Makefiles</cite> or <cite>bash</cite> scripts, <cite>doit</cite>
is great solution.</p></li>
<li><p>It’s easy to build up a library of common tasks that can be reused by
multiple <cite>doit</cite> pipelines.</p></li>
</ul>
</section>
<section id="data-driven-modelling-of-robots-mcgill-university-canada">
<h3><a class="reference external" href="https://github.com/decarsg/system_norm_koopman">Data-Driven Modelling of Robots</a> / McGill University, Canada<a class="headerlink" href="#data-driven-modelling-of-robots-mcgill-university-canada" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://github.com/sdahdah">Steven Dahdah</a> (2022-09-06)</p>
<p>The <a class="reference external" href="https://www.decar.ca/">DECAR Systems Group</a> at McGill University
conducts fundamental and applied research on state estimation, guidance, and
control. We use <code class="docutils literal notranslate"><span class="pre">doit</span></code> to improve the reproducibility of our research.</p>
<p><a class="reference external" href="https://github.com/decarsg/system_norm_koopman">One of our recent projects</a>
involves modelling a soft robot arm from experimental data using the Koopman
operator. Our pipeline consists of many small tasks like preprocessing data,
profiling algorithms, and generating plots, along with a few large regression
problems that must be run overnight.</p>
<p>Organizing this pipeline was quite a challenge. First we tried <code class="docutils literal notranslate"><span class="pre">Make</span></code>, which
worked well in the beginning, but fell apart when we had to write our own
macros to generate rules. It was also becoming a burden to serialize and
deserialize tons of intermediate files, as well as to maintain compatibility
with Windows. As others here have said, just because you <em>can</em> make it work
doesn’t mean that you <em>should</em>. We considered using <code class="docutils literal notranslate"><span class="pre">CMake</span></code>, but ultimately
decided it was the wrong tool for the job. <code class="docutils literal notranslate"><span class="pre">Snakemake</span></code> was also an option,
but the non-Python dependencies did not sit well with us.</p>
<p>This is when we discovered <code class="docutils literal notranslate"><span class="pre">doit</span></code>, which was a real life-saver. Instead of
having a convoluted plotting script with a ton of command line arguments, we
just placed our plotting functions directly in <code class="docutils literal notranslate"><span class="pre">dodo.py</span></code>. Same with the
preprocessing functions. We no longer needed to generate as many temporary
files, and we no longer had to worry about Windows compatibility. Generating
multiple tasks was as simple as a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop and a <code class="docutils literal notranslate"><span class="pre">yield</span></code>.</p>
<p>Now, all you have to do is clone our repo, install the dependencies, and run
<code class="docutils literal notranslate"><span class="pre">doit</span></code> to get all the plots, exactly as they appear in our paper!</p>
</section>
</section>
<section id="build-system">
<h2><a class="toc-backref" href="#id9">Build System</a><a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h2>
<section id="bmw-automotive">
<h3><a class="reference external" href="https://www.bmw.com/de/index.html">BMW</a> (Automotive)<a class="headerlink" href="#bmw-automotive" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://github.com/moltob">Mike Pagel</a> (2019-02-06)</p>
<p>We are responsible for the development of the next generation instrument
cluster software at BMW. While we use <code class="docutils literal notranslate"><span class="pre">CMake</span></code> for the actual build of libraries
and applications, we have learned in the past that you <em>can</em> do almost everything
with <code class="docutils literal notranslate"><span class="pre">CMake</span></code>, but probably you <em>shouldn’t</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CMake</span></code> is optimized for all tasks around compiler toolchain control, but the
language is somewhat special and functions and macros cannot easily be tested
outside of a real build. This is where <code class="docutils literal notranslate"><span class="pre">doit</span></code> enters the stage: We use it for
everything <em>but</em> compiling software, as a high level command line interface for
the development teams (and the CI systems). These are some of the tasks we
perform with <code class="docutils literal notranslate"><span class="pre">doit</span></code>:</p>
<ul class="simple">
<li><p>Downloading and installing tools.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">CMake</span></code> for multiple compiler toolchains.</p></li>
<li><p>Driving various code analysis tools.</p></li>
<li><p>Reporting.</p></li>
<li><p>Packaging the software for later deployment to the car etc.</p></li>
<li><p>Checking if dependencies of the toolchain are outdated and creating automatic
pull requests.</p></li>
</ul>
<p>Basically we implemented our complete high-level build control in <code class="docutils literal notranslate"><span class="pre">doit</span></code>. The
resulting framework is now used by us and our suppliers and supports a team
over 100 developers. Since <code class="docutils literal notranslate"><span class="pre">doit</span></code> is written in Python, we have professional test
frameworks, linters and code analyzers at hand, allowing for a thoroughly
tested and well-designed platform for our build-systems and automation.</p>
</section>
<section id="game-development">
<h3><a class="toc-backref" href="#id11">Game Development</a><a class="headerlink" href="#game-development" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://github.com/pydoit/doit/issues/207#issuecomment-333367177">&#64;FrankStain</a> (2017-10-01)</p>
<p>I’m professional game developer. Also, i support my own huge game framework written on C++. :)</p>
<p>So, the large scalable build systems are the game building automation tools. It consists of game binary image builders for different platforms, including cross-compilation of source code and source code generation from some DSL schemes. Also it consists of resource generators, where a lot of resource types (dozens of types: textures, 3d objects and scene graphs, sounds, database and state machine raw data) have to pass through dozens of compilation steps. After all, such build system consists of dynamic testing tool, which makes some tests on build target before make it published for Draft usage, QA or Retail customers. And, yep, publishing/QA deployment also implemented as part of build system.</p>
<p>Just imagine you need to read PNG into pixelmap, compress it into ETC2, ATCI, S3-TC5/BC3 and PVR-TC4, after what each of compressed texture should be placed into different resource pack, obfuscated and encrypted. And all is done by different tasks, because i can read textures even from database, zip-file or other pack and may not wish to compress it into some formats.
Each sound should be loaded from PCM, converted into MP3 or OGG and linked with each sound mixer where it used, after what it also have to be placed at proper resource pack, obfuscated and encrypted.
3d location compilation process is about two hundreds tasks on just objects, not files. It’s most complex resource pipeline in build system.</p>
<p><cite>doit</cite> is well designed tool for such purposes, i think.</p>
</section>
<section id="id2">
<h3><a class="reference external" href="https://www.scality.com/">MetalK8s &#64; Scality</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://github.com/slaperche-scality">Sylvain Laperche</a> (2019-05-06)</p>
<p>We use <code class="docutils literal notranslate"><span class="pre">doit</span></code> as the build system for
<a class="reference external" href="https://github.com/scality/metalk8s/">MetalK8s</a>, a Kubernetes distribution
with a focus on long-term on-prem deployments.</p>
<p><code class="docutils literal notranslate"><span class="pre">doit</span></code>’s main role is to generate the MetalK8s ISO archive that should contain
everything to allow offline installation and deployment of a Kubernetes cluster.
This involves several tasks like downloading and/or building container images,
building software packages (RPMs) from source, creating packages repositories, …
We also use <code class="docutils literal notranslate"><span class="pre">doit</span></code> for others tasks, such as executing linting tools and
spawning a local cluster using Vagrant.</p>
<p>We wanted to move away from <code class="docutils literal notranslate"><span class="pre">make</span></code> because as complexity grows it becomes hard
to maintain, evolve and debug.
Given that almost everyone in our team is familiar with Python, we started to
look for alternatives that are Python-based.</p>
<p>We investigated <code class="docutils literal notranslate"><span class="pre">Scons</span></code>, <code class="docutils literal notranslate"><span class="pre">waf</span></code>, <code class="docutils literal notranslate"><span class="pre">Invoke</span></code> and <code class="docutils literal notranslate"><span class="pre">doit</span></code>.
<code class="docutils literal notranslate"><span class="pre">Scons</span></code> and <code class="docutils literal notranslate"><span class="pre">waf</span></code> were put aside because their main advantage is to hide the
underlying complexity of compiling software in a portable way (which we aren’t
doing). However, running arbitrary shell commands was cumbersome.
<code class="docutils literal notranslate"><span class="pre">Invoke</span></code> was pretty good at executing commands, but didn’t have a good
dependency tracking system: a task will always be re-executed even if its
dependencies are unchanged, which was a deal-breaker.</p>
<p><code class="docutils literal notranslate"><span class="pre">doit</span></code> was chosen to replace our <code class="docutils literal notranslate"><span class="pre">make</span></code>-based approach because of the
following characteristics:</p>
<ul class="simple">
<li><p>Easy to invoke external commands</p></li>
<li><p>Simple and flexible core concepts</p></li>
<li><p>Easily customizable (<code class="docutils literal notranslate"><span class="pre">uptodate</span></code> API, <code class="docutils literal notranslate"><span class="pre">clean</span></code> attribute, …)</p></li>
<li><p>Extensive documentation</p></li>
<li><p>Actively maintained</p></li>
<li><p>Various useful features: JSON output, <code class="docutils literal notranslate"><span class="pre">doit</span> <span class="pre">info</span></code> to inspect dependencies,
<code class="docutils literal notranslate"><span class="pre">doit</span> <span class="pre">auto</span></code> for automatically replaying tasks based on dependency changes…</p></li>
</ul>
</section>
</section>
<section id="content-generation">
<h2><a class="toc-backref" href="#id13">Content Generation</a><a class="headerlink" href="#content-generation" title="Permalink to this headline">¶</a></h2>
<section id="nikola">
<h3><a class="toc-backref" href="#id14">Nikola</a><a class="headerlink" href="#nikola" title="Permalink to this headline">¶</a></h3>
<p>by <a class="reference external" href="https://getnikola.com/">the Nikola team</a></p>
<p><a class="reference external" href="https://getnikola.com/">Nikola</a> is a Static Site and Blog Generator.  <cite>doit</cite>
is used to process all the tasks required for building the website (HTML files,
indexes, RSS, copying files…).  Use of <cite>doit</cite> makes Nikola unique: unlike other
static site generators, Nikola regenerates only the files that were changed
since last build (and not all files in the site!).  <code class="docutils literal notranslate"><span class="pre">nikola</span> <span class="pre">build</span></code>, the
centerpiece of Nikola, is basically the usual <code class="docutils literal notranslate"><span class="pre">doit</span> <span class="pre">run</span></code> command.</p>
<p><cite>doit</cite> is what makes Nikola extremely fast, even for large sites.  Only a handful
of files actually <em>change</em> on a rebuild.  Using the dependency architecture of
<cite>doit</cite> (for files and configuration), we are able to rebuild only what is needed.</p>
<p>Nikola is an <a class="reference external" href="https://github.com/getnikola/nikola">open-source</a> project with
many users and contributors.</p>
</section>
<section id="document-production">
<h3><a class="toc-backref" href="#id15">Document Production</a><a class="headerlink" href="#document-production" title="Permalink to this headline">¶</a></h3>
<p>(2018-02-01)</p>
<p><a class="reference external" href="https://carvesystems.com">Carve Systems</a> uses <cite>doit</cite> as the core automation tool
for all of our document production. This customized tool based on Pandoc, Latex, and
coordinated by <cite>doit</cite> is used by everyone in our company to prepare our primary
customer facing deliverable. Previously we used Makefiles to coordinate builds. <cite>doit</cite>
let us create a system that can be more easily maintained, tested, and extended using
plugins.</p>
</section>
</section>
<section id="devops">
<h2><a class="toc-backref" href="#id16">DevOps</a><a class="headerlink" href="#devops" title="Permalink to this headline">¶</a></h2>
<section id="university-of-oslo-library-norway">
<h3><a class="toc-backref" href="#id17">University of Oslo Library, Norway</a><a class="headerlink" href="#university-of-oslo-library-norway" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="#https-data-ub-uio-no">by</a> <a class="reference external" href="https://github.com/danmichaelo">Dan Michael O. Heggø</a> (2018-02-26)</p>
<p>We are using <cite>doit</cite> for the publishing workflow at our vocabulary server <a class="reference external" href="https://data.ub.uio.no/">https://data.ub.uio.no/</a> .
The server checks multiple remote sources for changes, and when there’s new changes somewhere, the data is fetched,
converted to different formats, published and pushed to Fuseki and Elasticsearch.</p>
<p>One part I love about <cite>doit</cite> is that you can control what is considered a change.
For remote files, I have created a task that checks if some header, like ETag or Last-Modified, has changed.
If it has not, I set <cite>uptodate</cite> to True and stop there.</p>
<p>Another part I love is the ability to re-use tasks.
Each vocabulary (like <a class="reference external" href="https://github.com/realfagstermer/realfagstermer">https://github.com/realfagstermer/realfagstermer</a> and <a class="reference external" href="https://github.com/scriptotek/humord">https://github.com/scriptotek/humord</a>)
has a different publication workflow, but many tasks are shared.
With <cite>doit</cite>, I have created a collection of tasks and task generators (<a class="reference external" href="https://github.com/scriptotek/data_ub_tasks/">https://github.com/scriptotek/data_ub_tasks/</a>)
that I use with all the vocabularies.</p>
<p>Finally, it’s great that you can mix shell commands and Python tasks so easily.
This cuts development time and makes the move from using Makefiles much easier.</p>
</section>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="changes.html"
       title="previous chapter">← Changes</a>
  </li>
  <li class="next">
    <a href="faq.html"
       title="next chapter">FAQ →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2008-2020, Eduardo Schettino.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
  
    
  
    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-29887834-3', 'auto');
        ga('send', 'pageview');
      </script>
    
  

  </body>
</html>